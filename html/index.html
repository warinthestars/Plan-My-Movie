<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js"><!--<![endif]-->
	<head>
		<title>Plan My Despair</title>
		<html lang="en-US">
		<link rel="icon" href="assets/icons/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="assets/icons/favicon.ico" type="image/x-icon" />
		
		<meta name="Description" content="So much despair">
	
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
		<link rel="stylesheet" href="css/normalize.css">
		<link rel="stylesheet" href="css/stylesheet.css">
		<link rel="stylesheet" href="css/selectize.default.css">
		<!--[if IE 8]><script src="js/es5.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/standalone/selectize.js"></script>
		<script src="js/index.js"></script>
		<style type="text/css">
		.selectize-control.movies .selectize-dropdown [data-selectable] {
			border-bottom: 1px solid rgba(0,0,0,0.05);
			height: 60px;
			position: relative;
			-webkit-box-sizing: content-box;
			box-sizing: content-box;
			padding: 10px 10px 10px 60px;
		}
		.selectize-control.movies .selectize-dropdown [data-selectable]:last-child {
			border-bottom: 0 none;
		}
		.selectize-control.movies .selectize-dropdown .by {
			font-size: 11px;
			opacity: 0.8;
		}
		.selectize-control.movies .selectize-dropdown .by::before {
			content: 'by ';
		}
		.selectize-control.movies .selectize-dropdown .name {
			font-weight: bold;
			margin-right: 5px;
		}
		.selectize-control.movies .selectize-dropdown .description {
			font-size: 12px;
			color: #a0a0a0;
		}
		.selectize-control.movies .selectize-dropdown .actors,
		.selectize-control.movies .selectize-dropdown .description,
		.selectize-control.movies .selectize-dropdown .title {
			display: block;
			white-space: nowrap;
			width: 100%;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		.selectize-control.movies .selectize-dropdown .actors {
			font-size: 10px;
			color: #a0a0a0;
		}
		.selectize-control.movies .selectize-dropdown .actors span {
			color: #606060;
		}
		.selectize-control.movies .selectize-dropdown img {
			height: 60px;
			left: 10px;
			position: absolute;
			border-radius: 3px;
			background: rgba(0,0,0,0.04);
		}
		.selectize-control.movies .selectize-dropdown .meta {
			list-style: none;
			margin: 0;
			padding: 0;
			font-size: 10px;
		}
		.selectize-control.movies .selectize-dropdown .meta li {
			margin: 0;
			padding: 0;
			display: inline;
			margin-right: 10px;
		}
		.selectize-control.movies .selectize-dropdown .meta li span {
			font-weight: bold;
		}
		.selectize-control.movies::before {
			-moz-transition: opacity 0.2s;
			-webkit-transition: opacity 0.2s;
			transition: opacity 0.2s;
			content: ' ';
			z-index: 2;
			position: absolute;
			display: block;
			top: 12px;
			right: 34px;
			width: 16px;
			height: 16px;
			background: url(images/spinner.gif);
			background-size: 16px 16px;
			opacity: 0;
		}
		.selectize-control.movies.loading::before {
			opacity: 0.4;
		}
		</style>
	</head>
    <body>
		<div id="wrapper">
			<h1>PLAN MY MOVIE</h1>
			<div class="demo">
				<div class="control-group">
					<label for="select-movie">Select a Movie:</label>
					<select id="select-movie" class="movies" placeholder="Find a movie..."></select>
				</div>
				<br>
				<div id="displayrt">
				Run-Time:
				</div>
				<script>
				
				
				
				(function dostuff() {
					var idforgetdetails;
					
					
					// <select id="select-movie"></select>
					$('#select-movie').selectize({
						valueField: 'id',
						labelField: 'title',
						searchField: 'title',
						options: [],
						create: false,
						render: {
							option: function(item, escape) {
								return '<div>' +
									'<img src="' + escape("https://image.tmdb.org/t/p/w92" + item.poster_path) + '" alt="">' +
									'<span class="title">' +
										'<span class="name">' + escape(item.title + " " + "(" + item.release_date + ")") + '</span>' +
									'</span>' +
									'<span class="description">' + escape(item.overview || '<i>No synopsis available at this time.') + '</span>'
								'</div>';
							}
						},
						load: function(query, callback) {
							if (!query.length) return callback();
							$.ajax({
								url: 'https://api.themoviedb.org/3/search/movie?api_key=3634a680b1c4dff46bdba60a88625d55&language=en-US&include_adult=false',
								type: 'GET',
								dataType: 'jsonp',
								data: {
									query: query,
									page_limit: 10,
								},
								error: function() {
									callback();
								},
								success: function(res) {
									console.log(res.results);
									callback(res.results);
								}
							});
						}
					});				
				})();

				</script>
				
			</div>
		</div>
	</body>
</html>
